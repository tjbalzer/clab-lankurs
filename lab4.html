
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Kurs Netzwerk Grundlagen">
      
      
      
      
        <link rel="prev" href="lab3.html">
      
      
        <link rel="next" href="lab5.html">
      
      
      <link rel="icon" href="img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Lab 4: Ethernet, ARP & IP Adressen - Kurs Netzwerk Grundlagen</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-4-ethernet-arp-ip-adressen" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Kurs Netzwerk Grundlagen" class="md-header__button md-logo" aria-label="Kurs Netzwerk Grundlagen" data-md-component="logo">
      
  <img src="img/netzebw_logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Kurs Netzwerk Grundlagen
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 4: Ethernet, ARP & IP Adressen
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="cyan"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="yellow" data-md-color-accent="cyan"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/tjbalzer/clab-lankurs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    clab-lankurs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Kurs Netzwerk Grundlagen" class="md-nav__button md-logo" aria-label="Kurs Netzwerk Grundlagen" data-md-component="logo">
      
  <img src="img/netzebw_logo.svg" alt="logo">

    </a>
    Kurs Netzwerk Grundlagen
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/tjbalzer/clab-lankurs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    clab-lankurs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Einführung
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="vorbereitungen.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vorbereitungen
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="lab0.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 0: Laborumgebung mit Containerlab
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="lab1.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 1: Containerlab & Wireshark
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="lab2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 2: Ethernet Frameformate
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="lab3.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 3: Hubs & Switches
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="lab4.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Lab 4: Ethernet, ARP & IP Adressen
    
  </span>
  

      </a>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="lab5.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 5: VLANs & statisches Routing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="lab6.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 6: Dynamisches Routing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="lab7.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 7: User Datagram Protocol (UDP)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="lab8.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 8: Dynamic Host Configuration Protocol (DHCP)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="lab9.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 9: Domain Name System Protokoll (DNS)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="lab10.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 10: Network Time Protocol (NTP)
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="lab11.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 11: Transmission Control Protocol (TCP)
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="lab-4-ethernet-arp-ip-adressen">Lab 4: Ethernet, ARP &amp; IP Adressen</h1>
<figure>
<p><a class="glightbox" href="img/lankurs-lab2.svg#only-light" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Toplogy Lab-2" src="img/lankurs-lab2.svg#only-light" /></a>
<a class="glightbox" href="img/lankurs-lab2-dark.svg#only-dark" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Toplogy Lab-2" src="img/lankurs-lab2-dark.svg#only-dark" /></a></p>
<figcaption>
<p>Lab Topology</p>
</figcaption>
</figure>
<h1 id="wireshark-lab-ethernet-und-arp">Wireshark-Lab: Ethernet und ARP</h1>
<p>In dieser Übung analysierst du das <strong>Ethernet-Protokoll</strong> und das <strong>Address Resolution Protocol (ARP, RFC 826)</strong>. Bevor du startest, stelle sicher, dass du die Grundlagen des Ethernet-MAC-Layers und von ARP verstanden hast.</p>
<p>ARP wird von einem IP-System verwendet, um zu einer bekannten IP-Adresse die passende MAC-Adresse zu ermitteln.</p>
<h2 id="vorbereitung">Vorbereitung</h2>
<ul>
<li>Verbinde VS Code mit dem GitHub Codespace</li>
<li>Starte das Lab-4 im GitHub Codespace</li>
<li>Installiere Edgeshark im GitHub Codespace</li>
</ul>
<h2 id="ping-test-mit-wireshark-mitschnitt">Ping-Test mit Wireshark-Mitschnitt</h2>
<p>Nach dem Lab-4 erfolgreich gestartet wurde:</p>
<ul>
<li>Verbinde dich mit der Kommandozeile von PC1 (Attach)</li>
<li>Starte einen Wireshark-Mitschnitt auf dem Interface <code>eth1</code> von PC1 (damit werden die Pakete auf dem Link zwischen PC1 und SW1 aufgezeichnet)</li>
<li>Führe auf PC1 folgenden Ping-Befehl aus (Ziel ist die IP-Adresse von PC3 hinter dem Router R1 an SW2):<ul>
<li><code>ping 192.168.12.11</code></li>
</ul>
</li>
<li>Ping-Befehl nach ca. 5 Pings mit <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-c">C</kbd></span> stoppen</li>
<li>Wireshark Aufzeichnung stoppen</li>
</ul>
<h2 id="analyse-der-ersten-ping-anfrage">Analyse der ersten Ping-Anfrage</h2>
<p>Suche in der Wireshark-Paketliste das <strong>erste Ping-Paket (ICMP Echo Request)</strong>. Markiere es und beantworte die folgenden Fragen:</p>
<div class="admonition question">
<p class="admonition-title">Fragen</p>
<ul>
<li>Welche 48-Bit-Ethernet-Adresse hat der Sender?</li>
<li>Wie lautet die Ethernet-Adresse des Empfängers?<ul>
<li>Ist das die Ethernet-Adresse von PC3? Wenn nein: Wessen Ethernet-Adresse ist es (Wissensfrage)?</li>
</ul>
</li>
<li>Welcher hexadezimale Wert steht im Ethernet Frametyp-Feld?<ul>
<li>Was bedeutet dieser Wert?</li>
</ul>
</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Die Ethernet-Adressen der PCs können ihr auf der Kommandozeile der PCs wie folgt abgefragt werden (Interface <code>eth1</code> ist mit dem Labornetz verbunden):
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>ip link show eth1
</span></code></pre></div></p>
<div class="admonition example">
<p class="admonition-title">Beispiel</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>/ # ip link show eth1
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>19: eth1@if18: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 9500 qdisc noqueue state UP mode DEFAULT group default 
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    link/ether aa:c1:ab:8c:37:68 brd ff:ff:ff:ff:ff:ff link-netnsid 1
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>/ # 
</span></code></pre></div>
</div>
<details class="info">
<summary>Alternativ: <em>Ethernet-Adresse im TopopViewer anzeigen</em></summary>
<p>Link zwischen PC und Switch mit der rechten Maus auswählen und im <code>Kreismenü</code>den Sektor <code>Properties</code> auswählen. Dann wird wie MAC-Adresse in einer Infobox <code>Link Properties</code> angezeigt:
<a class="glightbox" href="img/show-mac-in-topoviewer.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Show MAC in TopoViewer" src="img/show-mac-in-topoviewer.png" /></a></p>
</details>
</div>
<h2 id="analyse-der-ping-antwort">Analyse der Ping-Antwort</h2>
<p>Suche das <strong>erste Ping-Antwortpaket (ICMP Echo Reply)</strong> und beantworte die folgenden Fragen:</p>
<div class="admonition question">
<p class="admonition-title">Fragen</p>
<ul>
<li>Wie lautet die Ethernet-Adresse des Senders?<ul>
<li>Gehört die Ethernet-Adresse dem Sender oder dem Empfänger? Wenn nein: Von Welchem Gerät stammt die Ethernet-Adresse (Wissensfrage)?</li>
</ul>
</li>
<li>Welche Ziel-Ethernet-Adresse steht im Paket?<ul>
<li>Ist das die Adresse von PC1?</li>
</ul>
</li>
<li>Welcher hexadezimale Wert steht im 2-Byte Ethernet Frametyp-Feld?<ul>
<li>Was bedeutet dieser Wert?</li>
<li>Welche weiteren Typfeld-Werte kennst du?</li>
</ul>
</li>
</ul>
</div>
<details class="tip">
<summary>Spickzettel</summary>
<p>Wenn du dir bei den Antworten auf die Wissensfragen unsicher bist, kannst du z.B. die Ethernet-Adressen des Routers wie folgt überprüfen:</p>
<ul>
<li>SSH-Verbindung zu <code>R1</code> aufbauen:
<a class="glightbox" href="img/connect-to-router-r1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="SSH-Verbindung R1" src="img/connect-to-router-r1.png" /></a></li>
<li>Nach Aufforderung das Passwort <code>admin</code> eingeben (Zeichen werden unterdrückt):
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>$ ssh admin@clab-lab4-R1
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>Warning: Permanently added &#39;clab-lab4-r1&#39; (RSA) to the list of known hosts.
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>(admin@clab-lab4-r1) Password: 
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>R1#
</span></code></pre></div></li>
<li>Anzeige der Interfaces von <code>R1</code>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>show int e0/1
</span></code></pre></div>
Ausgabe:
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>R1#sh int e0/1
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>Ethernet0/1 is up, line protocol is up 
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    Hardware is AmdP2, address is aabb.cc00.0510 (bia aabb.cc00.0510)
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    Internet address is 192.168.11.1/24
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    MTU 1500 bytes, BW 10000 Kbit/sec, DLY 1000 usec, 
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>... &lt;Ausgabe gekürzt&gt;
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>show int e0/2
</span></code></pre></div>
Ausgabe:
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>R1#sh int e0/2
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Ethernet0/2 is up, line protocol is up 
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>Hardware is AmdP2, address is aabb.cc00.0520 (bia aabb.cc00.0520)
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>Internet address is 192.168.12.1/24
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>MTU 1500 bytes, BW 10000 Kbit/sec, DLY 1000 usec, 
</span></code></pre></div></li>
<li>Wird die Ausgabe mit dem Hinweis <code>--More--</code> gestoppt, hat man folgende Möglichkeiten:<ul>
<li>Mit der Taste <span class="keys"><kbd class="key-space">Space</kbd></span> die Ausgabe fortsetzen</li>
<li>Mit der Taste <span class="keys"><kbd class="key-enter">Enter</kbd></span> die Ausgabe zeilenweise fortsetzen</li>
<li>Mit der Taste <span class="keys"><kbd class="key-q">Q</kbd></span> die Ausgabe abbrechen </li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warnung</p>
<p>Wenn du im TopoViewer den Link zwischen PC1 und R1 mit der Maus selektierst, erscheint eine Infobox mit den <code>Link Properties</code>. Die dort für <code>R1</code>angegebene MAC-Adresse ist NICHT die Adresse des Routers, sondern die Adresse des Containers, in welchem der Router als virtuelle Maschine (VM) läuft!</p>
</div>
</details>
<details class="note">
<summary>ARP- Cache auf Cisco Routern</summary>
<p>Natürlich nutzt auch ein Router ARP-Requests, um die Ethernet-Adresse eines Endgerätes in einem direkt angeschlossenen IP-Subnets zu ermitteln und speichert die Daten aus den ARP-Replies in seinem eigenen ARP-Cache, der wie folgt angezeigt werden kann:
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>show arp
</span></code></pre></div>
Ausgabe:
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>R1#sh ip arp
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>Protocol  Address          Age (min)  Hardware Addr   Type   Interface
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>Internet  192.168.11.1            -   aabb.cc00.0510  ARPA   Ethernet0/1
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>Internet  192.168.11.11           0   aac1.abb4.340d  ARPA   Ethernet0/1
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>Internet  192.168.12.1            -   aabb.cc00.0520  ARPA   Ethernet0/2
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>Internet  192.168.12.11           0   aac1.ab61.0e4c  ARPA   Ethernet0/2
</span></code></pre></div>
Der ARP-Cache des Routers lässt sich über das folgenden Befehl auf der Kommandozeile des Routers löschen:
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>clear arp-cache
</span></code></pre></div>
Allerdings zeigt sich, dass die Einträge nach dem löschen des ARP-Cache nach wie in der Tabelle angezeigt werden:
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>R1#clear arp-cache 
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>R1#sh arp          
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a>Protocol  Address          Age (min)  Hardware Addr   Type   Interface
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>Internet  192.168.11.1            -   aabb.cc00.0510  ARPA   Ethernet0/1
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>Internet  192.168.11.11           0   aac1.abb4.340d  ARPA   Ethernet0/1
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>Internet  192.168.12.1            -   aabb.cc00.0520  ARPA   Ethernet0/2
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a>Internet  192.168.12.11           0   aac1.ab61.0e4c  ARPA   Ethernet0/2
</span></code></pre></div>
Das liegt an der Implementierung von Cisco: Der Befehl <code>clear arp-cache</code> löscht zwar tatsächlich die dynamischen Einträge, allerdings führt der Router sofort nach der Löschung neue ARP-Anfragen für die gelöschten Einträge aus, um zu überprüfen, ob die Endgeräte noch antworten und damit erreichbar sind, inkl. eines Gratuitous ARP mit der Adresse seines eigegenen Interfaces im jeweiligen IP-Subnetz (Prüfung auf ggf. doppelte Vergabe der IP-Adresse des Router-Interfaces):
<a class="glightbox" href="img/wireshark-trace-after-cisco-clear-arp.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="ARPs after Cisco clear arp" src="img/wireshark-trace-after-cisco-clear-arp.png" /></a></p>
</details>
<h2 id="arp-tabelle-betrachten">ARP-Tabelle betrachten</h2>
<ul>
<li>Mit dem folgenden Befehl auf PC1 die ARP-Tabelle anzeigen (<code>neigh</code> ist die Kurzform für <code>neighbours</code>: Anzeige der <em>bekannten Nachbarn</em> im IP-Subnetz):
  <div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>ip neigh show
</span></code></pre></div></li>
<li>Für den Fall, dass die Tabelle leer ist (nach einiger Zeit verlieren Einträge ihre Gültigkeit und gehen vom Status <code>REACHABLE</code> in den Status <code>STALE</code>, wenn keine weitere Kommunikation zur gelisteten IP-Adresse stattgefunden hat) oder keine Einträge mehr enthalten sind, die mit <code>192.168.</code> beginnen:<ul>
<li>Wiederhole den Ping von PC1 nach PC3</li>
<li>Dann erneut auf PC1 <code>ip neigh show</code> ausführen</li>
</ul>
</li>
</ul>
<div class="admonition question">
<p class="admonition-title">Aufgabe</p>
<p>Notiere die ARP-Tabelle und erkläre:</p>
<ul>
<li>Die Bedeutung der Spalten</li>
<li>Die Bedeutung der Einträge</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Der <code>ip</code>-Befehl ist hier dokumentiert: <a href="https://man7.org/linux/man-pages/man8/ip.8.html">ip(8) - Linux manual page</a>
Das Kommando <code>ip neighbour</code> ist hier dokumentiert: <a href="https://man7.org/linux/man-pages/man8/ip-neighbour.8.html">ip-neighbour(8) - Linux manual page</a></p>
</div>
<h2 id="arp-tabelle-loschen">ARP-Tabelle löschen</h2>
<ul>
<li>Lösche die ARP-Tabelle für das Interface <code>eth1</code> durch Eingabe des folgenden Befehls auf PC1:
  <div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>ip neighbor flush dev eth1
</span></code></pre></div></li>
<li>Kontrolliere den Inhalt der ARP-Tabelle:
  <div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>ip neigh show
</span></code></pre></div></li>
<li>Die Tabelle sollte nun leer sein (es werden keine dynamischen Einträge für Interface <code>eth1</code> angezeigt)</li>
</ul>
<h2 id="erneuter-mitschnitt-mit-wireshark">Erneuter Mitschnitt mit Wireshark</h2>
<ul>
<li>Starte Wireshark auf Interface <code>eth1</code> von PC1</li>
<li>Wiederhole den Ping von PC1 nach PC3</li>
<li>Stoppe den Ping-Befehl auf PC1 nach 4-5 Pings über <span class="keys"><kbd class="key-control">Ctrl</kbd><span>+</span><kbd class="key-c">C</kbd></span></li>
<li>Achte darauf: Du willst diesmal <strong>nur Ethernet- und ARP-Pakete</strong> sehen<ul>
<li>Hierfür passen wir die Wireshark-Ansicht entsprechend an und schalten die Protkollunterstützung für IPv4 aus</li>
</ul>
</li>
</ul>
<h2 id="protokollunterstutzung-fur-ipv4-deaktivieren">Protokollunterstützung für IPv4 deaktivieren</h2>
<ul>
<li>Gehe im Wireshark-Menü auf: <code>Analyse &gt;&gt; Protokolle aktivieren</code></li>
<li>Deaktiviere <strong>IPv4</strong> durch Abwählen des entsprechenden Kästchens</li>
<li>Stelle sicher, dass der Anzeigebereich für die Paketbytes aktiviert ist</li>
</ul>
<details class="info">
<summary>Aktivieren/deaktivieren der Wireshark IPv4 Protokollunterstützung</summary>
<p><a class="glightbox" href="img/wireshark-deactivate-ipv4-1.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Anlayse &gt;&gt; Protokolle aktivieren" src="img/wireshark-deactivate-ipv4-1.png" /></a>
<a class="glightbox" href="img/wireshark-deactivate-ipv4-2.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="IPv4 Protokollunterstützung ein-/ausschalten" src="img/wireshark-deactivate-ipv4-2.png" /></a></p>
</details>
<details class="info">
<summary>Anzeigebereich für <em>Paketbytes</em> anzeigen</summary>
<p><a class="glightbox" href="img/wireshark-packetbyte-view.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Anzeige Paketbereich ein/aus" src="img/wireshark-packetbyte-view.png" /></a></p>
</details>
<h2 id="analyse-des-arp-requests">Analyse des ARP-Requests</h2>
<p>Suche in Wireshark das <strong>ARP-Request-Paket</strong>, markiere es und beantworte die folgenden Fragen:</p>
<div class="admonition question">
<p class="admonition-title">Fragen</p>
<ul>
<li>Wie lauten die Werte für Quell- und Zieladresse im Ethernet-Frame?</li>
<li>Welchen hexadezimalen Wert hat das Ethernet Frametyp-Feld und welche Bedeutung hat dieser Wert?</li>
<li>Nach wie vielen Bytes ab Frame-Beginn beginnt das Opcode-Feld („Operation“)? =&gt; Byteansicht in Wireshark einblenden</li>
<li>Welcher Wert steht im Opcode/Operation-Feld?<ul>
<li>Welche Art ARP-Paket ist das?</li>
</ul>
</li>
<li>Enthält das ARP-Request-Paket die IP-Adresse des Senders?</li>
<li>Wo steht im ARP-Request die IP-Adresse des Systems, dessen MAC-Adresse erfragt wird?</li>
</ul>
</div>
<h2 id="analyse-des-arp-replies">Analyse des ARP-Replies</h2>
<p>Finde das <strong>ARP-Reply-Paket</strong> und beantworte die folgenden Fragen:</p>
<div class="admonition question">
<p class="admonition-title">Fragen</p>
<ul>
<li>Nach wie vielen Bytes ab dem Beginn des ARP-Replies beginnt das Opcode-Feld? =&gt; Byteansicht in Wireshark einblenden</li>
<li>Welcher Wert steht im Opcode/Operation-Feld?</li>
<li>Wo im ARP-Reply-Paket steht die Antwort auf die im ARP-Request gestellte Frage?<ul>
<li>Wo im Paket findet man die IP-Adresse, die zur MAC-Adresse gehört?</li>
</ul>
</li>
<li>Welches sind die hexadezimale Werte der Quell- und Zieladressen des ARP-Replies?<ul>
<li>Welchen Systemen gehören diese Adressen?</li>
</ul>
</li>
</ul>
</div>
<h2 id="wireshark-ansicht-zurucksetzen">Wireshark-Ansicht zurücksetzen</h2>
<ul>
<li>Gehe im Wireshark-Menü wieder auf: <code>Analyse &gt;&gt; Protokolle aktivieren</code></li>
<li>Aktiviere Protokollunterstützung für IPv4 wieder durch Anwahl des entsprechenden Kästchens</li>
</ul>
<h2 id="bonus-aufgabe-tracefile-analyse">Bonus-Aufgabe: Tracefile-Analyse</h2>
<ul>
<li>Öffne in Wireshark das Tracefile über das Menü <code>Datei &gt;&gt; Öffnen</code> oder <span class="keys"><kbd class="key-alt">Alt</kbd><span>+</span><kbd class="key-d">D</kbd><span>+</span><kbd class="key-o">O</kbd></span>: <code>ethernet-wireshark-trace1.pcapng</code> im SharePoint-Verzeichnis <code>Kurs Netzwerk Grundlagen/Computer Networking - A Top-Down Approach (Kurose &amp; Ross)/Wireshark Tracefiles/wireshark-traces-8.1</code></li>
<li>Finde die ARP-Request-/Reply-Pakete in der Paketliste:<ul>
<li>ARP-Request des Wireshark-PCs</li>
<li>ARP-Reply des Netzteilnehmers, nach dessen MAC-Adresse im ARP-Request gefragt wurde </li>
</ul>
</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>In diesem Szenario läuft Wireshark auf dem Rechner, welcher den ARP-Request gesendet hat.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Fragen</p>
<ul>
<li>Wie lautet die IP-Adresse des PCs, auf dem Wireshark läuft?</li>
<li>Zu welcher IP-Adresse sucht der PC die Ethernet-Adresse und wie lautet die MAC-Adresse des gesuchten Gerätes?</li>
<li>In diesem Netzwerk haben viele weitere Geräte einen ARP-Request gesendet (siehe Wireshark Paketliste). Warum sind dazu keine passenden ARP-Replies  im Wireshark Tracefile enthalten?</li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Diese Aufgabe ist unabhängig von den vorherigen Übungen.
Der PC mit Wireshark war an einem <strong>Standard-Switchport</strong> und nicht an einem Mirror-Port angeschlossen.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["navigation.tracking", "content.code.copy", "content.code.annotate"], "search": "assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>